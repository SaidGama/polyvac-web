---
import Layout from "../layouts/Layout.astro";
import CategoryBanner from "../components/Category_banner.astro";
import Badge from "../components/Badge.astro";
import ProductCardList from "../components/ProductCardList.astro";
import bg from '../assets/index/card1.png';
import productosData from '../data/productos.js';

const title = "Serigrafia - Industrias Polyvac";
const description = "Pagina de categoria";

// Filtrar productos de la categoría Serigrafía
const productosSerigrafia = productosData.filter(p => p.categoria && p.categoria.toLowerCase() === "serigrafia");

// Base Agua: productos cuyo título incluye "aqua" (no sensible a mayúsculas)
const productosBaseAgua = productosSerigrafia.filter(p => p.titulo.toLowerCase().includes("aqua"));
// Plastisoles: productos cuyo título incluye "plast" (no sensible a mayúsculas)
const productosPlastisol = productosSerigrafia.filter(p => p.titulo.toLowerCase().includes("plast"));
---

<Layout title={title} description={description}>
    <CategoryBanner imageUrl={bg} titulo="Tintas para Serigrafía"/>
    <div class="my-15">
        <Badge text="Base Agua"/>
    </div>
    <section>
        <div class="grid grid-cols-1 lg:grid-cols-2">
            {productosBaseAgua.map(producto => (
              <ProductCardList
                titulo={producto.titulo}
                badgeType={1}
                badge="Base Agua"
                descripcion={producto.descripcion}
                buttonHref={`/producto/${producto.id}`}
              />
            ))}
        </div>
    </section>
    <div class="my-15">
        <Badge text="Plastisol"/>
    </div>
    <section>
        <div class="grid grid-cols-1 lg:grid-cols-2">
            {productosPlastisol.map(producto => (
              <ProductCardList
                titulo={producto.titulo}
                badgeType={2}
                badge="Plastisol"
                descripcion={producto.descripcion}
                buttonHref={`/producto/${producto.id}`}
              />
            ))}
        </div>
    </section>
</Layout>
